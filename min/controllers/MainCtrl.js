stockPrices.controller("MainCtrl",["$scope","$http",function(t,a){t.processData=function(a){var e=a.split(/\r\n|\n/),n=e[0].split(","),s=[],l=0,o=e.length;for(l;l<o;l++)if(e[l].indexOf(",")!=-1){var r=e[l].split(",");if(r.length==n.length){for(var i=[],p=0;p<n.length;p++)i.push(r[p]);s.push(i)}}t.data=s},t.processDeltas=function(a){var e=a.split(/\r\n|\n/),n=[],s=[],l=0,o=e.length,r=0;for(l;l<o;++l)if(e[l].indexOf(",")!=-1){var i=e[l].split(",");n.push(i)}else if(""!=e[l]){var p=e[l];r+=+p,s.push({timeout:r,deltaTable:n}),n=[]}t.applyDeltas(s)},t.applyDeltas=function(a){var e=0,n=a.length;for(e;e<n;++e){var s=a[e].deltaTable,l=a[e].timeout;!function(a,e){setTimeout(function(){for(var e=1;e<t.data.length;++e)for(var n=0;n<t.data[e].length;++n)""!=a[e-1][n]&&(t.data[e][n]=a[e-1][n]);t.$apply()},e)}(s,l)}},t.$on("fileLoaded",function(a,e){t.processDeltas(e)}),a.get("data/snapshot.csv").success(t.processData)}]);